<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GameAP Plugin Debug Harness</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <script>
        // Initialize theme from localStorage
        (function() {
            const theme = localStorage.getItem('gameap-theme') || 'light';
            if (theme === 'dark') {
                document.documentElement.classList.add('dark');
            }
        })();

        // Initialize language
        window.gameapLang = localStorage.getItem('gameap-locale') || 'en';

        // Minimal i18n for harness UI (not plugin translations)
        window.i18n = {
            en: {
                'debug.title': 'Plugin Debug Harness',
                'debug.file_editors': 'File Editors',
                'debug.server_tabs': 'Server Tabs',
                'debug.routes': 'Routes',
                'debug.user_type': 'User Type',
                'debug.server': 'Server',
                'debug.locale': 'Locale',
                'debug.admin': 'Admin',
                'debug.user': 'Regular User',
                'debug.guest': 'Guest',
                'debug.none': 'None',
                'debug.minecraft': 'Minecraft',
                'debug.cs': 'Counter-Strike',
                'debug.events': 'Events',
                'debug.no_events': 'No events yet',
                'debug.select_file': 'Select a file to test the editor',
                'debug.no_server_tabs': 'No server tab components registered',
                'debug.no_routes': 'No routes registered by the plugin',
            },
            ru: {
                'debug.title': 'Отладка плагина',
                'debug.file_editors': 'Редакторы файлов',
                'debug.server_tabs': 'Вкладки сервера',
                'debug.routes': 'Маршруты',
                'debug.user_type': 'Тип пользователя',
                'debug.server': 'Сервер',
                'debug.locale': 'Язык',
                'debug.admin': 'Администратор',
                'debug.user': 'Обычный пользователь',
                'debug.guest': 'Гость',
                'debug.none': 'Нет',
                'debug.minecraft': 'Minecraft',
                'debug.cs': 'Counter-Strike',
                'debug.events': 'События',
                'debug.no_events': 'Пока нет событий',
                'debug.select_file': 'Выберите файл для тестирования редактора',
                'debug.no_server_tabs': 'Нет зарегистрированных вкладок сервера',
                'debug.no_routes': 'Плагин не зарегистрировал маршруты',
            }
        };
    </script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        html, body, #app {
            height: 100%;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        }
        .dark {
            color-scheme: dark;
        }
    </style>
</head>
<body>
    <div id="app"></div>
    <script type="module" src="/src/main.ts"></script>
</body>
</html>
